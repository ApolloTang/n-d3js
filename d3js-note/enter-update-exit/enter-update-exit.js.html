<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>d3-enter-update-exit</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://localhost:8001/css/lib/normalize-2.1.2.css">
    <style media="screen" type="text/css">
        /* css here */

        li {list-style: none;
              font-size: 20px;
        }
        li.selected{ color: #ff8888; }
        li.updated{color: #88ff88;}
        li.existed{color: #8888ff;}
        li.enter{color: #88ffff;}
    </style>
</head>

<body>
    <ul id="list-1">
        <li>hello</li>
        <li>hello</li>
        <li>hello</li>
    </ul>

    <script src="http://localhost:8001/js/lib/lodash-v2.4.1.js"></script>
    <script src="http://localhost:8001/js/lib/jquery-1.11.0.js"></script>
    <script src="http://localhost:8001/js/lib/d3-3.4.13.js"></script>

    <script>
        var selected_li_1 = d3.selectAll('#list-1').selectAll('li').attr('class', 'selected');
        console.log('selected_li_1: ', selected_li_1);
        debugger;

        var joined_1      = selected_li_1.data(['a','b','c'], function(d){ return d;});
        console.log('joined_1: ', joined_1);
        debugger;

        var entered_1     = joined_1.enter();
        console.log('entered_1: ', entered_1);
        debugger;

        var appended_1    = entered_1.append('li').text(function(d){return d}).attr('class', 'updated');
        console.log('appended_1: ', appended_1);
        debugger;

        var exited_1      = joined_1.exit().attr('class', 'existed');
        console.log('exited_1: ', exited_1);
        debugger;

        var removed_1     = exited_1.remove();
        debugger;

        var selected_li_2 = d3.selectAll('#list-1').selectAll('li').attr('class', 'selected');
        console.log('selected_li_2: ', selected_li_2);
        debugger;

        var joined_2      = selected_li_2.data(['c', 'x', 'y'], function(d){ return d; }).attr('class', 'updated')
        console.log('joined_2: ', joined_2);
        debugger;

        var entered_2     = joined_2.enter();
        console.log('entered_2: ', entered_2);
        debugger;

        var appended_2    = entered_2.append('li').text(function(d){return d}).attr('class', 'updated');
        console.log('appended_2: ', appended_2);
        debugger;

        var exited_2      = joined_2.exit().attr('class', 'existed');
        console.log('exited_2: ', exited_2);
        debugger;

        var removed_2     = exited_2.remove();
        debugger;


    </script>
</body>

</html>
